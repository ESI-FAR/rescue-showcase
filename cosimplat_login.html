<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CoSimPlat — Secure Login</title>
  <meta name="description" content="CoSimPlat secure access. Authenticate and connect via VPN to your local machine." />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="icon" href="/favicon.ico" />

  <style>
    :root {
      --bg: #0b0f17; --surface: #0f1624; --card:#141c2e; --text:#e6edf3; --muted:#9fb0c3;
      --brand:#2bb0ed; --brand-strong:#0ea5e9; --accent:#a78bfa; --border:#22314b; --radius:16px; --shadow:0 10px 30px rgba(0,0,0,.25);
      --ok:#22c55e; --warn:#f59e0b; --err:#ef4444;
      --maxw:960px;
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{margin:0; font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; background: var(--bg); color: var(--text)}
    a{color:var(--brand); text-decoration:none}
    a:hover{text-decoration:underline}
    .wrap{max-width:var(--maxw); margin:0 auto; padding:28px 20px}

    /* Header */
    header{position:sticky; top:0; z-index:20; backdrop-filter: blur(8px); background: linear-gradient(180deg, rgba(10,14,22,.9), rgba(10,14,22,.6)); border-bottom:1px solid var(--border)}
    .nav{display:flex; align-items:center; justify-content:space-between; gap:14px; padding:14px 20px; max-width:var(--maxw); margin:0 auto}
    .brand{display:flex; align-items:center; gap:10px; font-weight:700}
    .logo{width:28px; height:28px; border-radius:6px; background:linear-gradient(135deg, var(--brand-strong), var(--accent)); box-shadow:var(--shadow)}

    /* Layout */
    .grid{display:grid; grid-template-columns: 1fr; gap:22px}
    @media (min-width: 920px){ .grid{ grid-template-columns: 1.1fr .9fr } }

    .card{background:var(--card); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow)}
    .card h2{margin:0 0 6px}

    .panel{padding:22px}

    /* Form */
    form{display:grid; gap:14px}
    label{font-weight:600}
    .field{display:grid; gap:6px}
    input, select{width:100%; padding:12px 12px; border-radius:12px; background:#0f172a; border:1px solid var(--border); color:var(--text)}
    input:focus, select:focus{outline:2px solid #1f3b63; border-color:#2a4365}
    .row{display:flex; gap:10px}
    .row > *{flex:1}
    .hint{color:var(--muted); font-size:.92rem}

    .btn{position:relative; isolation:isolate; overflow:hidden; display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:12px 16px; border-radius:999px; border:1px solid var(--border); background:#111828; color:var(--text); font-weight:700; text-decoration:none; box-shadow:var(--shadow); transition: transform 120ms ease}
    .btn:active{transform:translateY(1px)}
    .btn::before{content:""; position:absolute; inset:-2px; border-radius:inherit; background:linear-gradient(135deg, var(--brand-strong), var(--accent)); transform: translateX(-120%) translateY(60%) rotate(-8deg); transition: transform 220ms ease; z-index:0}
    .btn:hover::before{transform: translateX(0%) translateY(0%) rotate(0deg)}
    .btn > *{position:relative; z-index:1}
    .btn-primary{border-color:transparent; color:#0b0f17; background:linear-gradient(135deg, var(--brand-strong), var(--accent))}
    .btn-primary::before{background:linear-gradient(135deg,#fff,#d0eaff); opacity:.35}
    .btn-primary:hover{filter:brightness(1.06)}
    .btn-ghost{background:#0f172a}

    .actions{display:flex; gap:10px; flex-wrap:wrap}

    .badge{font-size:.8rem; padding:4px 8px; border-radius:999px; border:1px solid var(--border); background:#13243d; color:var(--muted)}

    .muted{color:var(--muted)}
    .list{margin:0; padding-left:18px}

    footer{border-top:1px solid var(--border); background:#0a1220}
    .footer-inner{max-width:var(--maxw); margin:0 auto; padding:22px 20px; display:flex; flex-wrap:wrap; gap:10px; align-items:center; justify-content:space-between; color:var(--muted)}
      /* RESCUE word scanner effect */
    .brand .home { display:inline-flex; gap: 1px; letter-spacing: 0.1ch; }
    .brand .home .glyph { color: var(--text); transition: color 140ms ease, text-shadow 140ms ease; text-shadow: none; }
    .brand .home .glyph.lit { color: #ff6f7a; text-shadow: 0 0 12px rgba(255,111,122,0.75), 0 0 22px rgba(255,111,122,0.45); }
    .brand .home .glyph.alert { color: #ff3b3b; text-shadow: 0 0 16px rgba(255,59,59,0.9), 0 0 28px rgba(255,59,59,0.65); }
    .brand .home .glyph.blink { animation: blinkSoft 140ms steps(2, start) 10; }
    @keyframes blinkSoft { 50% { opacity: 0.7; text-shadow: 0 0 6px rgba(255,59,59,0.7), 0 0 16px rgba(255,59,59,0.5); } }
      /* Smaller header buttons */
    .actions .btn{ padding:6px 10px; font-size:.92rem; gap:6px }
  </style>
</head>
<body>
  <header>
    <nav class="nav" aria-label="Primary">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <a href="index.html" class="home" aria-label="RESCUE"><span class="glyph">R</span><span class="glyph">E</span><span class="glyph">S</span><span class="glyph">C</span><span class="glyph">U</span><span class="glyph">E</span></a>
        <span class="badge">CoSimPlat</span>
      </div>
      <div class="actions">
        <a class="btn btn-ghost" href="replay.html"><span>REPlay</span></a>
      </div>
    </nav>
  </header>

  <main class="wrap grid">
    <!-- Login Panel -->
    <section class="card panel" aria-labelledby="login-title">
      <h2 id="login-title">Secure Login</h2>
      <p class="muted">Authenticate to establish a VPN session and reach your local CoSimPlat node.</p>
      <form action="#" method="post" onsubmit="event.preventDefault(); alert('Demo page: wire this form to your backend.');">
        <div class="field">
          <label for="email">Email (institutional)</label>
          <input id="email" name="email" type="email" placeholder="name@institution.edu" required autocomplete="username" />
        </div>
        <div class="field">
          <label for="password">Password</label>
          <div style="position:relative">
            <input id="password" name="password" type="password" placeholder="••••••••" required autocomplete="current-password" />
            <button type="button" class="btn btn-ghost" style="position:absolute; right:6px; top:6px; padding:8px 10px" aria-label="Toggle password visibility" onclick="const p=document.getElementById('password'); p.type = p.type==='password'?'text':'password'; this.setAttribute('aria-pressed', p.type==='text');"><span>Show</span></button>
          </div>
          <div class="hint">Use your CoSimPlat account. <a href="#support">Need help?</a></div>
        </div>
        <div class="row">
          <div class="field">
            <label for="vpn-profile">VPN Profile</label>
            <select id="vpn-profile" name="vpn">
              <option value="">Select profile…</option>
              <option>RESCUE‑EU (prod)</option>
              <option>RESCUE‑EU (staging)</option>
              <option>Local lab</option>
            </select>
          </div>
          <div class="field">
            <label for="otp">One‑Time Code (MFA)</label>
            <input id="otp" name="otp" type="text" inputmode="numeric" pattern="[0-9]*" placeholder="123456" autocomplete="one-time-code" />
          </div>
        </div>
        <div class="actions">
          <button class="btn btn-primary" type="submit"><span>Connect</span></button>
          <a class="btn" href="#vpn-instructions"><span>VPN Setup</span></a>
        </div>
      </form>
    </section>

    <!-- Instructions Panel -->
    <aside class="card panel" id="vpn-instructions" aria-labelledby="howto-title">
      <h2 id="howto-title">How to connect</h2>
      <ol class="list">
        <li>Install the approved VPN client (<strong>OpenVPN</strong> or <strong>WireGuard</strong>).</li>
        <li>Import the CoSimPlat VPN profile <code>.ovpn</code> / <code>.conf</code> provided by your administrator.</li>
        <li>Sign in with your CoSimPlat credentials. If prompted, enter the one‑time code from your authenticator app.</li>
        <li>Once connected, verify you can reach your local node at <code>https://cosimplat.local</code> or the assigned IP (see below).</li>
      </ol>
      <div class="card panel" style="margin-top:12px">
        <h3 style="margin-top:0">Connection details</h3>
        <ul class="list">
          <li>Gateway: <code>vpn.rescue-project.example</code></li>
          <li>Tunnel: <code>10.8.0.0/24</code> (example)</li>
          <li>Local node: <code>10.8.0.42</code> (example)</li>
          <li>Ports: <code>443/TCP</code> (HTTPS), <code>22/TCP</code> (SSH) as authorized</li>
        </ul>
        <p class="muted">Replace with your actual endpoints and ranges.</p>
      </div>

      <h3 id="support" style="margin-top:18px">Support & referent</h3>
      <p>Primary contact: <strong>Project Support</strong> (<a href="mailto:support@rescue-project.example">support@rescue-project.example</a>) — Security & Networking.</p>
      <p>Secondary: <strong>On‑call Engineer</strong> (<a href="mailto:oncall@rescue-project.example">oncall@rescue-project.example</a>) — Platform Ops.</p>
      <p class="muted">For password resets, use the <a href="#">self‑service portal</a>. For urgent incidents, call +00 000 000 000.</p>

      <div class="card panel" style="margin-top:12px; border-color:#2f3e5c">
        <h3 style="margin-top:0">Security notice</h3>
        <ul class="list">
          <li>Do not share credentials or VPN profiles.</li>
          <li>Only connect from compliant, up‑to‑date devices.</li>
          <li>Disconnect when your session is complete.</li>
        </ul>
      </div>
    </aside>
  </main>

  <footer>
    <div class="footer-inner">
      <div>© <span id="year"></span> RESCUE Project • <a href="index.html">Back to site</a></div>
    </div>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
    // RESCUE brand text: random right->left sweep with occasional anomaly blink
    (function(){
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const home = document.querySelector('.brand .home');
      if (!home || prefersReduced) return;
      const letters = Array.from(home.querySelectorAll('.glyph'));
      if (!letters.length) return;
      const wait = (ms) => new Promise(r => setTimeout(r, ms));

      async function sweepWithAnomaly() {
        const idx = [...letters.keys()].reverse(); // rtl order
        const doAnomaly = Math.random() < 0.35;
        const mid = Math.floor(idx.length/2) + (Math.random() < 0.5 ? -1 : 1);
        const stopAt = doAnomaly ? Math.max(1, Math.min(idx.length-2, mid)) : -1;
        const step = 55;
        for (let k = 0; k < idx.length; k++) {
          const i = idx[k];
          letters[i].classList.add('lit');
          if (doAnomaly && k === stopAt) {
            const group = [i, idx[k-1], idx[k+1]].filter(v => v !== undefined);
            group.forEach(j => letters[j].classList.add('alert','blink'));
            await wait(900);
            group.forEach(j => letters[j].classList.remove('blink'));
          }
          await wait(step);
        }
        await wait(400);
        const idx2 = [...letters.keys()];
        for (let k = 0; k < idx2.length; k++) {
          const i = idx2[k];
          letters[i].classList.remove('lit','alert','blink');
          await wait(60);
        }
      }

      (async function cycle(){
        while (true) {
          await wait(2000 + Math.random()*5000); // random idle 2–7s
          await sweepWithAnomaly();
        }
      })();
    })();
  </script>
</body>
</html>
