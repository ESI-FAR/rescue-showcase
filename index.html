<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RESCUE Project ‚Äî Showcase</title>
  <meta name="description" content="RESCUE: Responsive Science Communication & Understanding ‚Äî project showcase and resources." />

  <!-- Open Graph / Social -->
  <meta property="og:title" content="RESCUE Project ‚Äî Showcase" />
  <meta property="og:description" content="Explore the RESCUE project's goals, partners, team, and publications." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://your-domain.example/" />
  <meta property="og:image" content="https://your-domain.example/social-card.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="RESCUE Project ‚Äî Showcase" />
  <meta name="twitter:description" content="Science communication showcase for the RESCUE project." />
  <meta name="twitter:image" content="https://your-domain.example/social-card.png" />

  <link rel="icon" href="/favicon.ico" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #0b0f17;
      --surface: #0f1624;
      --card: #141c2e;
      --text: #e6edf3;
      --muted: #9fb0c3;
      --brand: #2bb0ed;  /* science-teal */
      --brand-strong: #0ea5e9;
      --accent: #a78bfa; /* soft violet */
      --border: #22314b;
      --radius: 16px;
      --shadow: 0 10px 30px rgba(0,0,0,0.25);
      --maxw: 1100px;
    }

    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      margin:0;
      font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: var(--bg);
      color: var(--text);
      position: relative;
      overflow-x: hidden;
    }
    a { color: var(--brand); text-decoration: none; }
    a:hover { text-decoration: underline; }

    /* Header */
    .site-header {
      position: sticky;
      top:0;
      z-index: 50;
      backdrop-filter: blur(8px);
      background: linear-gradient(180deg, rgba(10,14,22,0.9), rgba(10,14,22,0.6));
      border-bottom: 1px solid var(--border);
    }
    .nav {
      max-width: var(--maxw);
      margin: 0 auto;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 14px 20px;
      position: relative;
    }
    .brand {
      display:flex;
      align-items:center;
      gap:10px;
      font-weight: 700;
      letter-spacing: 0.3px;
    }
    .brand .logo {
      width: 52px;
      height: 52px;
      border-radius: 12px;
      object-fit: contain;
      box-shadow: var(--shadow);
    }
    .footer-logo {
      width: 252px;
      height: 252px;
      margin-right: 8px;
      border-radius: 4px;
      object-fit: contain;
      vertical-align: middle;
    }

    /* RESCUE word scanner effect */
    .brand .home { display:inline-flex; gap: 1px; letter-spacing: 0.1ch; }
    .brand .home .glyph {
      color: var(--text);
      transition: color 140ms ease, text-shadow 140ms ease;
      text-shadow: none;
    }
    .brand .home .glyph.lit {
      color: #ff4d4d;
      text-shadow: 0 0 10px rgba(255,77,77,0.7), 0 0 18px rgba(255,77,77,0.5);
    }
    .nav a { font-weight: 500; color: var(--text); opacity: 0.9; }
    .nav a:hover { opacity: 1; }
    .nav ul { list-style:none; display:flex; gap: 18px; margin:0; padding:0; }

    /* Mobile menu toggle */
    .menu-toggle {
      display:none;
      background: transparent;
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 8px 10px;
      color: var(--text);
      cursor: pointer;
    }
    .menu-toggle svg { display:block; }

    /* Hero */
    .hero {
      max-width: var(--maxw);
      margin: 0 auto;
      padding: 64px 20px 40px;
      display:grid;
      grid-template-columns: 1fr;
      gap: 18px;
    }
    .hero h1 { font-size: clamp(28px, 4vw, 40px); line-height: 1.1; margin: 0; }
    .hero p { color: var(--muted); max-width: 70ch; }
    .cta { display:flex; gap:12px; margin-top:10px; flex-wrap: wrap; }

    /* Buttons */
    .btn {
      position: relative;
      overflow: hidden;
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 12px 16px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: #111828;
      color: var(--text);
      font-weight: 600;
      text-decoration:none;
      box-shadow: var(--shadow);
      transition: transform 120ms ease;
    }
    .btn:active { transform: translateY(1px); }
    .btn::before {
      content: "";
      position: absolute;
      inset: -2px;
      border-radius: inherit;
      background: linear-gradient(135deg, var(--brand-strong), var(--accent));
      transform: translateX(-120%) translateY(60%) rotate(-8deg);
      transition: transform 220ms ease;
      z-index: 0;
    }
    .btn > * { position: relative; z-index: 1; }
    .btn:hover::before { transform: translateX(0%) translateY(0%) rotate(0deg); }

    .btn-primary {
      border-color: transparent;
      color: #0b0f17;
      background: linear-gradient(135deg, var(--brand-strong), var(--accent));
    }
    .btn-primary::before {
      background: linear-gradient(135deg, #fff, #d0eaff);
      opacity: 0.35;
    }

    /* Sections */
    section { scroll-margin-top: 90px; }
    .wrap { max-width: var(--maxw); margin: 0 auto; padding: 44px 20px; }
    .section-title { font-size: 24px; margin: 0 0 20px; }
    .two-col { display:grid; grid-template-columns: 1fr; gap: 22px; }
    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 20px;
    }
    .card h3 { margin-top:0; }
    .img-placeholder {
      aspect-ratio: 16/10;
      width: 100%;
      border-radius: 12px;
      background: linear-gradient(135deg, #0f2034, #1b2b44);
      border: 1px dashed var(--border);
      display:grid;
      place-items:center;
      color: var(--muted);
      font-weight:600;
    }

    /* Alternating layout for feature sections */
    .feature {
      background: var(--surface);
      border-top: 1px solid var(--border);
      border-bottom: 1px solid var(--border);
    }
    .feature-grid {
      display:grid;
      grid-template-columns: 1fr;
      gap: 24px;
      align-items:center;
    }
    .feature .text { display:flex; flex-direction:column; gap: 10px; }

    /* PARTNERS */
    .partner-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 18px;
      justify-content: center;
    }

    @media (min-width: 860px) {
      .partner-grid {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 18px 32px; /* row, column */
      }
    }

    .partner {
      position: relative;
      overflow: hidden;
      padding: 18px 20px;
      min-height: 84px;

      display:flex;
      align-items:center;
      justify-content:center;

      border-radius: var(--radius);
      border: 1px solid rgba(148,163,184,0.45);
      box-shadow: 0 20px 45px rgba(0,0,0,0.7);

      /* dark card base */
      background:
        radial-gradient(circle at 8% 0%, #020617 0, #020617 55%),
        radial-gradient(circle at 90% 120%, #020617 0, #020617 70%);
    }

    /* colored glow using inline --glow */
    .partner::before {
      content:"";
      position:absolute;
      inset:-30%;
      background:
        radial-gradient(
          circle at 20% 0%,
          color-mix(in srgb, var(--glow, #2bb0ed) 30%, #ffffff 70%) 0,
          transparent 60%
        ),
        radial-gradient(
          circle at 80% 100%,
          color-mix(in srgb, var(--glow, #2bb0ed) 55%, #ffffff 45%) 0,
          transparent 70%
        );
      filter: blur(22px);
      opacity: 0.9;
      z-index:0;
    }

    .partner > * {
      position:relative;
      z-index:1;
    }

    .partner img {
      max-width: 100%;
      max-height: 60px;
      object-fit: contain;
      display:block;
      margin:0 auto;
    }

    /* TEAM */
    .team-grid { display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap: 18px; }
    .member {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 14px;
      display:flex;
      gap:12px;
      align-items:center;
    }
    .avatar {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: #0d2136;
      border: 2px solid #1f2f48;
      object-fit: cover;
    }

    /* publications */
    .publications { display:grid; grid-template-columns: 1fr; gap: 12px; }
    .publication {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
    }
    .badge {
      font-size: 12px;
      font-weight:700;
      padding: 4px 8px;
      border-radius: 999px;
      background: #13243d;
      border: 1px solid var(--border);
      color: var(--muted);
    }

    /* Footer */
   
    footer { border-top: 1px solid var(--border); background: #0a1220; }
    .footer-inner {
      max-width: var(--maxw);
      margin: 0 auto;
      padding: 24px 20px;
      display:flex;
      flex-wrap: wrap;
      gap: 10px 24px;
      align-items:center;
      justify-content: space-between;
      color: var(--muted);
    }

    .footer-brand {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .footer-links { display:flex; gap: 16px; }

    .footer-copy {
      flex-basis: 100%;        /* new row under links */
      text-align: right;       /* where the red line is on desktop */
      font-size: 0.9rem;
    }

    /* Mobile footer layout */
    @media (max-width: 600px) {
      .footer-inner {
        justify-content: center;
      }
      .footer-copy {
        text-align: center;    /* centered under everything on mobile */
        margin-top: 6px;
      }
    }

    .footer-links { display:flex; gap: 16px; }

    /* Larger screens general layout */
    @media (min-width: 860px) {
      .hero { grid-template-columns: 2.2fr 1.4fr; align-items:center; }
      .two-col { grid-template-columns: 1.1fr 1fr; }
      .feature-grid { grid-template-columns: 1.1fr 1fr; }
      .team-grid { grid-template-columns: repeat(4, minmax(0,1fr)); }
    }

    /* Mobile nav */
    @media (max-width: 859px) {
      .menu-toggle { display:block; }
      .nav ul {
        position: absolute;
        top: 100%;
        right: 20px;
        left: 20px;
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 12px;
        display:none;
        flex-direction: column;
        gap: 10px;
        box-shadow: var(--shadow);
      }
      .nav ul.open { display: flex; }
    }

    /* Alternate left-right for features */
    .feature:nth-of-type(odd) .feature-grid { direction: rtl; }
    .feature:nth-of-type(odd) .feature-grid > * { direction: ltr; }

    /* Ambient moving glow */
    header, main, section, footer { position: relative; z-index: 1; }
    body::before {
      content: "";
      position: fixed;
      inset: -25% -25% -35% -25%;
      background:
        radial-gradient(600px 420px at 20% 30%, rgba(43,176,237,0.25), rgba(14,165,233,0.10) 45%, transparent 65%),
        radial-gradient(500px 380px at 80% 70%, rgba(167,139,250,0.14), transparent 60%);
      filter: blur(40px);
      animation: drift 18s ease-in-out infinite alternate;
      pointer-events: none;
      z-index: 0;
    }
    @keyframes drift {
      0%   { transform: translate3d(-6%, -4%, 0) scale(1); }
      50%  { transform: translate3d(3%, 2%, 0) scale(1.03); }
      100% { transform: translate3d(8%, 6%, 0) scale(1.06); }
    }
    @media (prefers-reduced-motion: reduce) {
      body::before { animation: none; }
      .btn::before { transition: none; }
    }

    .footer-links .icon { vertical-align: text-bottom; margin-right: 6px; }

    /* Nav CTA button styles */
    .nav .nav-cta {
      position: relative;
      overflow: hidden;
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: #111828;
      color: var(--text);
      font-weight: 600;
      font-size: 0.92rem;
      text-decoration:none;
      box-shadow: var(--shadow);
      transition: transform 120ms ease;
    }
    .nav .nav-cta:active { transform: translateY(1px); }
    .nav .nav-cta::before {
      content: "";
      position: absolute;
      inset: -2px;
      border-radius: inherit;
      background: linear-gradient(135deg, var(--brand-strong), var(--accent));
      transform: translateX(-120%) translateY(60%) rotate(-8deg);
      transition: transform 220ms ease;
      z-index: 0;
    }
    .nav .nav-cta:hover::before { transform: translateX(0%) translateY(0%) rotate(0deg); }
    .nav .nav-cta > * { position: relative; z-index: 1; }

    /* Expandable publications */
    .publication details { flex: 1; }
    .publication summary {
      list-style: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .publication summary::-webkit-details-marker { display: none; }
    .publication summary::after {
      content: "‚ñ∏";
      opacity: 0.7;
      margin-left: 8px;
      transition: transform 160ms ease;
    }
    .publication[open] summary::after,
    .publication details[open] > summary::after { transform: rotate(90deg); }
    .publication details > div { color: var(--muted); margin-top: 8px; }


    /* Publications dropdown */
      .publication-card {
        margin-top: 16px;
      }

      .pub-summary {
        cursor: pointer;
      }

      .pub-list {
        list-style: none;
        margin: 14px 0 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .pub-link {
        padding: 8px 10px;
        border-radius: 999px;
        border: 1px solid var(--border);
        background: #111828;
        color: var(--text);
        font: inherit;
        text-align: left;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        justify-content: space-between;
        gap: 8px;
      }

      .pub-link:hover {
        background: #141c2e;
      }

      /* Modal */
      .pub-modal {
        position: fixed;
        inset: 0;
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 80;
      }

      .pub-modal.open {
        display: flex;
      }

      .pub-modal-backdrop {
        position: absolute;
        inset: 0;
        background: rgba(15, 23, 42, 0.75);
      }

      .pub-modal-dialog {
        position: relative;
        max-width: 720px;
        width: min(94%, 720px);
        max-height: 90vh;
        overflow-y: auto;
        background: var(--surface);
        border-radius: var(--radius);
        border: 1px solid var(--border);
        box-shadow: var(--shadow);
        padding: 20px 22px 18px;
        z-index: 1;
      }

      .pub-modal-close {
        position: absolute;
        top: 10px;
        right: 14px;
        border: none;
        background: transparent;
        color: var(--muted);
        font-size: 22px;
        line-height: 1;
        cursor: pointer;
      }

      .pub-modal-title {
        margin: 0 34px 10px 0;
        font-size: 1.1rem;
      }

      .pub-modal-abstract {
        color: var(--muted);
        margin: 0 0 14px;
      }

      .pub-modal-links {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-bottom: 14px;
      }

      .pub-modal-links a[hidden] {
        display: none;
      }

      .pub-modal-ga {
        margin-top: 8px;
      }

      .pub-modal-ga img {
        width: 100%;
        border-radius: 12px;
        border: 1px solid var(--border);
      }

      .pub-modal-authors {
        margin: 0 0 6px;
        font-weight: 500;
      }

      .mission {
        position: relative;
        padding: 22px 22px 20px;
        border-left: 3px solid var(--brand);
        background:
          radial-gradient(circle at 0 0, rgba(43,176,237,0.10), transparent 55%),
          radial-gradient(circle at 100% 120%, rgba(167,139,250,0.10), transparent 60%),
          var(--card);
      }

      .mission-title {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 14px;
        letter-spacing: 0.03em;
      }

      .mission-layout {
        display: flex;
        flex-direction: column;
        gap: 16px;
      }

      .mission-block {
        display: flex;
        gap: 14px;
        align-items: flex-start;
      }

      .mission-icon {
        flex-shrink: 0;
        width: 34px;
        height: 34px;
        border-radius: 999px;
        display: grid;
        place-items: center;
        background: radial-gradient(circle at 30% 0%, rgba(43,176,237,0.35), transparent 55%);
        border: 1px solid rgba(148,163,184,0.55);
        color: var(--brand-strong);
      }

      .mission-body p {
        margin: 0 0 4px;
        font-weight: 500;
        color: var(--text);
      }

      .mission-list {
        margin: 0;
        padding-left: 1.2rem;
        color: var(--muted);
        line-height: 1.5;
      }

      /* On larger screens, arrange blocks in columns */
      @media (min-width: 860px) {
        .mission-layout {
          flex-direction: row;
        }
        .mission-block {
          flex: 1;
        }
      }


     /* TEAM */
      .team-grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(0,1fr));
        gap: 18px;
      }

      .member-wrapper {
        display: flex;
        flex-direction: column;
        gap: 0;
        position: relative;
      }

      .member-card {
        position: relative;
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: 14px;
        padding: 14px;
        box-shadow: 0 12px 30px rgba(0,0,0,0.55);
        transition:
          transform 160ms ease,
          box-shadow 160ms ease,
          border-color 160ms ease,
          background 160ms ease;
      }

      .member-top {
        display: flex;
        gap: 12px;
        align-items: center;
      }

      .avatar {
        width: 56px;
        height: 56px;
        border-radius: 50%;
        background: #0d2136;
        border: 2px solid #1f2f48;
        object-fit: cover;
        flex-shrink: 0;
      }

      .member-main {
        display: flex;
        flex-direction: column;
        gap: 2px;
      }

      .member-name {
        font-weight: 600;
      }

      .member-role {
        color: var(--muted);
        font-size: 0.9rem;
      }

      .member-links {
        display: flex;
        gap: 8px;
        margin-top: 6px;
      }

      .icon-link {
        width: 26px;
        height: 26px;
        border-radius: 999px;
        display: grid;
        place-items: center;
        background: #111828;
        border: 1px solid var(--border);
        color: var(--muted);
        text-decoration: none;
        transition:
          background 140ms ease,
          border-color 140ms ease,
          color 140ms ease,
          transform 120ms ease;
      }

      .icon-link svg {
        width: 14px;
        height: 14px;
        fill: currentColor;
      }

      .icon-link:hover {
        background: #0b1728;
        border-color: var(--brand-strong);
        color: var(--brand-strong);
        transform: translateY(-1px);
      }

      /* Extra info BELOW the card */
      .member-extra {
        margin-top: 0;
        padding: 0 4px;
        color: var(--muted);
        font-size: 0.9rem;
        line-height: 1.4;
        max-height: 0;
        opacity: 0;
        overflow: hidden;
        transform: translateY(-6px);
        transition:
          max-height 220ms ease,
          opacity 180ms ease,
          transform 180ms ease,
          margin-top 180ms ease;
      }

      /* Hover / focus expansion only for that member */
      .member-wrapper:hover .member-card,
      .member-wrapper:focus-within .member-card {
        transform: translateY(-2px) scale(1.01);
        border-color: var(--brand-strong);
        background: radial-gradient(circle at 0 0, rgba(43,176,237,0.14), transparent 60%), var(--card);
        box-shadow: 0 20px 45px rgba(0,0,0,0.8);
      }

      .member-wrapper:hover .member-extra,
      .member-wrapper:focus-within .member-extra {
        max-height: 220px; /* adjust if you add more text */
        opacity: 1;
        transform: translateY(0);
        margin-top: 6px;
      }

      /* Desktop: 4 columns like before */
      @media (min-width: 860px) {
        .team-grid {
          grid-template-columns: repeat(4, minmax(0,1fr));
        }
      }





  </style>
</head>
<body>
  <!-- Header / Navigation -->
  <header class="site-header">
    <nav class="nav" aria-label="Primary">
      <div class="brand">
        <img src="img/RESCUE_logo_transparent_light.png" alt="RESCUE logo" class="logo" aria-hidden="true">
        <a href="#top" class="home" aria-label="RESCUE">
          <span class="glyph">R</span><span class="glyph">E</span><span class="glyph">S</span><span class="glyph">C</span><span class="glyph">U</span><span class="glyph">E</span>
        </a>
      </div>
      <button class="menu-toggle" aria-expanded="false" aria-controls="primary-menu" aria-label="Toggle menu">
        <svg width="22" height="18" viewBox="0 0 22 18" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <rect x="0" y="1" width="22" height="2" rx="1" fill="currentColor"/>
          <rect x="0" y="8" width="22" height="2" rx="1" fill="currentColor"/>
          <rect x="0" y="15" width="22" height="2" rx="1" fill="currentColor"/>
        </svg>
      </button>
      <ul id="primary-menu">
        <li><a href="#about">About</a></li>
        <li><a href="#sections">Highlights</a></li>
        <li><a href="#partners">Partners</a></li>
        <li><a href="#team">Team</a></li>
        <li><a href="#publications">Pubblications</a></li>
        <li><a href="#ack">Acknowledgements</a></li>
        <li><a class="nav-cta" href="cosimplat_login.html"><span>CoSimPlat</span></a></li>
        <li><a class="nav-cta" href="replay.html"><span>REPlay</span></a></li>
      </ul>
    </nav>
  </header>

  <!-- Hero -->
  <main id="top" class="hero" role="main">
    <div>
      <h1>RESCUE ‚Äî Resilience and Cyber Security of Integrated Cyber-Physical Energy Systems</h1>
      <p>
        A public showcase for the RESCUE project. Explore goals, partners, and outputs.
      </p>
      <div class="cta">
        <a class="btn btn-primary" href="#sections"><span>Explore the highlights</span></a>
        <a class="btn" href="#publications"><span>View publications</span></a>
      </div>
    </div>
    <div class="card">
      <div class="img-placeholder">Hero / Illustration Placeholder</div>
      <p style="color:var(--muted); margin-top:12px">
        Replace with a project diagram or photo. Recommended size 1200√ó630 to match social card.
      </p>
    </div>
  </main>

  <!-- About / Intro -->
  <section id="about" class="wrap">
    <div class="card mission">
      <h2 class="section-title mission-title">Mission</h2>

      <div class="mission-layout">
        <!-- Block 1 -->
        <div class="mission-block">
          <div class="mission-icon" aria-hidden="true">
            <!-- shield / cyber protection -->
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24">
              <path d="M12 2l7 3v6.5c0 4.2-2.7 8-7 9.5-4.3-1.5-7-5.3-7-9.5V5l7-3z" fill="none" stroke="currentColor" stroke-width="1.6" />
              <path d="M9.5 11.5l1.9 1.9 3.8-3.8" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </div>
          <div class="mission-body">
            <p>RESCUE develops advanced mathematical and computational foundations, methods, and technologies for</p>
            <ul class="mission-list">
              <li>Incident response to protect utilities from (state-sponsored) cyber attacks</li>
              <li>Cyber secure the Control Room of the Future (CRoF)</li>
            </ul>
          </div>
        </div>

        <!-- Block 2 -->
        <div class="mission-block">
          <div class="mission-icon" aria-hidden="true">
            <!-- systems / CPS resilience -->
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24">
              <circle cx="7" cy="7" r="2.2" stroke="currentColor" stroke-width="1.6" fill="none" />
              <circle cx="17" cy="7" r="2.2" stroke="currentColor" stroke-width="1.6" fill="none" />
              <circle cx="12" cy="17" r="2.2" stroke="currentColor" stroke-width="1.6" fill="none" />
              <path d="M8.8 8.4L10.8 15M15.2 8.4L13.2 15" stroke="currentColor" stroke-width="1.3" />
            </svg>
          </div>
          <div class="mission-body">
            <p>Improve operational resilience of integrated Cyber-Physical energy Systems (CPS) by combining</p>
            <ul class="mission-list">
              <li>Innovative technologies</li>
              <li>Incident response strategies</li>
              <li>Human factors</li>
            </ul>
          </div>
        </div>

        <!-- Block 3 -->
        <div class="mission-block">
          <div class="mission-icon" aria-hidden="true">
            <!-- human capital / operators -->
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24">
              <path d="M9 11a3 3 0 1 1 6 0 3 3 0 0 1-6 0z" fill="none" stroke="currentColor" stroke-width="1.6" />
              <path d="M6 19c0-2.2 2.7-4 6-4s6 1.8 6 4" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" />
            </svg>
          </div>
          <div class="mission-body">
            <p>Develop human capital for power system operators</p>
            <ul class="mission-list">
              <li>Training facility: digital twin, CRoF &amp; cyber range</li>
              <li>Conduct attack / defense exercises</li>
              <li>Train system operators &amp; cyber security professionals for incident response</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>


  <!-- Feature sections -->
  <section id="sections" class="feature">
    <div class="wrap feature-grid">
      <div class="card">
        <div class="img-placeholder">Card Visual Placeholder</div>
      </div>
      <div class="text">
        <h3>Section One ‚Äî Placeholder Title</h3>
        <p class="muted">Brief description placeholder. Outline the challenge and how RESCUE addresses it.</p>
        <div><a class="btn btn-primary" href="#"><span>Explore</span></a></div>
      </div>
    </div>
  </section>

  <section class="feature">
    <div class="wrap feature-grid">
      <div class="card">
        <div class="img-placeholder">Card Visual Placeholder</div>
      </div>
      <div class="text">
        <h3>Section Two ‚Äî Placeholder Title</h3>
        <p class="muted">Brief description placeholder. Methods, data sources, or experimental setup.</p>
        <div><a class="btn btn-primary" href="#"><span>Explore</span></a></div>
      </div>
    </div>
  </section>

  <section class="feature">
    <div class="wrap feature-grid">
      <div class="card">
        <div class="img-placeholder">Card Visual Placeholder</div>
      </div>
      <div class="text">
        <h3>Section Three ‚Äî Placeholder Title</h3>
        <p class="muted">Brief description placeholder. Key findings, early results, or expected outcomes.</p>
        <div><a class="btn btn-primary" href="#"><span>Explore</span></a></div>
      </div>
    </div>
  </section>

  <!-- Partners -->
  <section id="partners" class="wrap">
<h2 class="section-title">üåê Project Partners</h2>


    <div class="partner-grid" aria-label="Partner logos">
      <div class="partner" style="--glow:#00A6D6;">
        <img src="img/partners_logo/TU-delft.png" alt="TU Delft">
      </div>
      <div class="partner" style="--glow:#D81F3A;">
        <img src="img/partners_logo/cwi-logo.png" alt="CWI">
      </div>
      <div class="partner" style="--glow:#005AA9;">
        <img src="img/partners_logo/Logo_of_TenneT.png" alt="TenneT">
      </div>
      <div class="partner" style="--glow:#00A3E0;">
        <img src="img/partners_logo/DNV_logo_RGB_tcm8-197625.webp" alt="DNV">
      </div>
      <div class="partner" style="--glow:#3B82F6;">
        <img src="img/partners_logo/ENCS-logo-dark.png" alt="ENCS">
      </div>
      <div class="partner" style="--glow:#008CFF;">
        <img src="img/partners_logo/netherlands-escience-center-logo-RGB-1024x282.png" alt="Netherlands eScience Center">
      </div>
      <div class="partner" style="--glow:#0c0c0c;">
        <img src="img/partners_logo/Siemens-Logo.png" alt="Siemens">
      </div>
    </div>
  </section>

    <!-- Team -->
  <section id="team" class="wrap">
    <h2 class="section-title">üë• Team</h2>

    <div class="team-grid">
      <!-- Member 1 -->
      <article class="member-wrapper">
        <div class="member-card">
          <div class="member-top">
            <img class="avatar" src="img/team/_MG_7512-Ioannis Semertzis.jpg" alt="Ioannis Semertzis" />
            <div class="member-main">
              <strong class="member-name">Ioannis Semertzis</strong>
              <div class="member-role">TU Delft</div>
              <div class="member-links">
                <a href="https://www.linkedin.com/in/ioannis-semertzis/" target="_blank" rel="noopener noreferrer"
                  class="icon-link" aria-label="LinkedIn profile">
                  <!-- LinkedIn icon -->
                  <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M4.98 3.5C4.98 4.88 3.9 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1s2.48 1.12 2.48 2.5zM.32 8.16h4.36V24H.32zM8.2 8.16h4.18v2.16h.06c.58-1.1 2-2.26 4.12-2.26 4.4 0 5.21 2.9 5.21 6.68V24h-4.36v-7.6c0-1.82-.03-4.16-2.54-4.16-2.54 0-2.93 1.98-2.93 4.02V24H8.2z" />
                  </svg>
                </a>
                <a href="mailto:I.Semertzis@tudelft.nl" class="icon-link" aria-label="Email">
                  <!-- Email icon -->
                  <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M4 4h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm0 2v.2l8 5 8-5V6H4zm16 2.9-7.6 4.75a2 2 0 0 1-2.1 0L4 8.9V18h16V8.9z" />
                  </svg>
                </a>
              </div>
            </div>
          </div>
        </div>
        <div class="member-extra">
          <p>
            In RESCUE, Ioannis Semertzis develops next-generation intrusion detection and prevention methods for the Control Room of the Future using deep-learning-based anomaly detection in cyber-physical energy systems. His areas of interest are cyber-physical energy systems, digital twins, and cybersecurity.

          </p>
        </div>
      </article>

      <!-- Member 2 -->
      <article class="member-wrapper">
        <div class="member-card">
          <div class="member-top">
            <img class="avatar" src="img/team/sho_phtoto_CWI.JPG" alt="Member name" />
            <div class="member-main">
              <strong class="member-name">Sho Cremers</strong>
              <div class="member-role">CWI</div>
              <div class="member-links">
                <a href="https://www.linkedin.com/in/sho-cremers/" target="_blank" rel="noopener noreferrer"
                  class="icon-link" aria-label="LinkedIn profile">
                  <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M4.98 3.5C4.98 4.88 3.9 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1s2.48 1.12 2.48 2.5zM.32 8.16h4.36V24H.32zM8.2 8.16h4.18v2.16h.06c.58-1.1 2-2.26 4.12-2.26 4.4 0 5.21 2.9 5.21 6.68V24h-4.36v-7.6c0-1.82-.03-4.16-2.54-4.16-2.54 0-2.93 1.98-2.93 4.02V24H8.2z" />
                  </svg>
                </a>
                <a href="mailto:Sho.Cremers@cwi.nl" class="icon-link" aria-label="Email">
                  <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M4 4h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm0 2v.2l8 5 8-5V6H4zm16 2.9-7.6 4.75a2 2 0 0 1-2.1 0L4 8.9V18h16V8.9z" />
                  </svg>
                </a>
              </div>
            </div>
          </div>
        </div>
        <div class="member-extra">
          <p>
            Short description of expertise, tasks in RESCUE, or research interests.
          </p>
        </div>
      </article>

      <!-- Member 3 -->
      <article class="member-wrapper">
        <div class="member-card">
          <div class="member-top">
            <img class="avatar" src="https://placehold.co/112x112" alt="Member name" />
            <div class="member-main">
              <strong class="member-name">Member Name</strong>
              <div class="member-role">Role / Institution</div>
              <div class="member-links">
                <a href="https://www.linkedin.com/" target="_blank" rel="noopener noreferrer"
                  class="icon-link" aria-label="LinkedIn profile">
                  <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M4.98 3.5C4.98 4.88 3.9 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1s2.48 1.12 2.48 2.5zM.32 8.16h4.36V24H.32zM8.2 8.16h4.18v2.16h.06c.58-1.1 2-2.26 4.12-2.26 4.4 0 5.21 2.9 5.21 6.68V24h-4.36v-7.6c0-1.82-.03-4.16-2.54-4.16-2.54 0-2.93 1.98-2.93 4.02V24H8.2z" />
                  </svg>
                </a>
                <a href="mailto:someone@example.com" class="icon-link" aria-label="Email">
                  <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M4 4h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm0 2v.2l8 5 8-5V6H4zm16 2.9-7.6 4.75a2 2 0 0 1-2.1 0L4 8.9V18h16V8.9z" />
                  </svg>
                </a>
              </div>
            </div>
          </div>
        </div>
        <div class="member-extra">
          <p>
            Optional short text about research focus, work package, or contributions.
          </p>
        </div>
      </article>

      <!-- Member 4 -->
      <article class="member-wrapper">
        <div class="member-card">
          <div class="member-top">
            <img class="avatar" src="https://placehold.co/112x112" alt="Member name" />
            <div class="member-main">
              <strong class="member-name">Member Name</strong>
              <div class="member-role">Role / Institution</div>
              <div class="member-links">
                <a href="https://www.linkedin.com/" target="_blank" rel="noopener noreferrer"
                  class="icon-link" aria-label="LinkedIn profile">
                  <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M4.98 3.5C4.98 4.88 3.9 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1s2.48 1.12 2.48 2.5zM.32 8.16h4.36V24H.32zM8.2 8.16h4.18v2.16h.06c.58-1.1 2-2.26 4.12-2.26 4.4 0 5.21 2.9 5.21 6.68V24h-4.36v-7.6c0-1.82-.03-4.16-2.54-4.16-2.54 0-2.93 1.98-2.93 4.02V24H8.2z" />
                  </svg>
                </a>
                <a href="mailto:someone@example.com" class="icon-link" aria-label="Email">
                  <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M4 4h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm0 2v.2l8 5 8-5V6H4zm16 2.9-7.6 4.75a2 2 0 0 1-2.1 0L4 8.9V18h16V8.9z" />
                  </svg>
                </a>
              </div>
            </div>
          </div>
        </div>
        <div class="member-extra">
          <p>
            Another short description; you can keep it one or two lines for a tidy hover state.
          </p>
        </div>
      </article>
    </div>
  </section>



  <!-- publications -->
  <section id="publications" class="wrap">
  <h2 class="section-title">üéì Publications</h2>

        <div id="publications-container"></div>

  </section>

  <!-- Publication modal -->
  <div class="pub-modal" id="pub-modal" aria-hidden="true">
    <div class="pub-modal-backdrop" data-modal-close></div>

    <div class="pub-modal-dialog" role="dialog" aria-modal="true" aria-labelledby="pub-modal-title">
      <button type="button" class="pub-modal-close" data-modal-close aria-label="Close">√ó</button>

      <h3 class="pub-modal-title" id="pub-modal-title"></h3>
      <p class="pub-modal-authors" id="pub-modal-authors"></p>
      <p class="pub-modal-abstract" id="pub-modal-abstract"></p>

      <div class="pub-modal-links">
        <a id="pub-modal-repo" href="#" target="_blank" rel="noopener noreferrer" hidden>Repository</a>
        <a id="pub-modal-source" href="#" target="_blank" rel="noopener noreferrer" hidden>Source</a>
        <a id="pub-modal-doi" href="#" target="_blank" rel="noopener noreferrer" hidden>DOI</a>        <!-- NEW -->
        <a id="pub-modal-scholar" href="#" target="_blank" rel="noopener noreferrer" hidden>Scholar</a><!-- NEW -->
      </div>


      <div class="pub-modal-ga" id="pub-modal-ga" hidden>
        <img id="pub-modal-ga-img" src="" alt="Graphical abstract">
      </div>
    </div>
  </div>


  <!-- Acknowledgements -->
  <section id="ack" class="wrap">
  <h2 class="section-title">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
        viewBox="0 0 24 24" fill="currentColor" style="vertical-align:middle;">
      <path d="M6 2h9l5 5v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm7 1.5V8h4.5L13 3.5zm-1 9.5l-3 3-1.5-1.5L7 16l2 2 4.5-4.5L12 13z"/>
    </svg>
    Acknowledgements
  </h2>
    <p style="color:var(--muted); max-width: 75ch">
      This work was supported in part by the Dutch Research Council‚Äôs RESCUE Project NWO ESI.2019.006
    </p>
  </section>

  <!-- Footer -->
  <footer>
    <div class="footer-inner">
      <div class="footer-brand">
        <img src="img/RESCUE_logo_transparent_white_crop.png"
            alt="RESCUE logo"
            class="footer-logo">
      </div>

      <div class="footer-links">
        <a href="privacy.html">Privacy</a>
        <a href="terms.html">Terms</a>
        <a href="#" onclick="CookieConsent.open(); return false;">Cookie settings</a>
        <a href="cosimplat.html">CoSimPlat</a>
        <a href="replay.html">REPlay</a>
        <a href="https://github.com/ESI-FAR/rescue-showcase"
          target="_blank"
          rel="noopener noreferrer"
          class="gh-link"
          title="GitHub repository">
          <svg class="icon"
              width="18"
              height="18"
              viewBox="0 -3.1 2490.3 2493"
              aria-hidden="true"
              focusable="false">
            <ellipse cx="1245.2" cy="1243.4" fill="#fff" rx="1217.6" ry="1246.5" />
            <path d="m1245.2 1.6c-687.6 0-1245.2 557.4-1245.2 1245.1 0 550.2 356.8 1016.9 851.5 1181.5 62.2 11.5 85.1-27 85.1-59.9 0-29.7-1.2-127.8-1.7-231.8-346.4 75.3-419.5-146.9-419.5-146.9-56.6-143.9-138.3-182.2-138.3-182.2-113-77.3 8.5-75.7 8.5-75.7 125 8.8 190.9 128.3 190.9 128.3 111.1 190.4 291.3 135.3 362.3 103.5 11.2-80.5 43.4-135.4 79.1-166.5-276.6-31.5-567.3-138.3-567.3-615.4 0-135.9 48.6-247 128.3-334.2-12.9-31.3-55.5-157.9 12.1-329.4 0 0 104.6-33.5 342.5 127.6 99.3-27.6 205.8-41.4 311.7-41.9 105.8.5 212.4 14.3 311.9 41.9 237.7-161.1 342.1-127.6 342.1-127.6 67.8 171.5 25.1 298.2 12.2 329.5 79.8 87.2 128.1 198.3 128.1 334.2 0 478.2-291.3 583.6-568.6 614.4 44.7 38.6 84.5 114.4 84.5 230.6 0 166.6-1.4 300.7-1.4 341.7 0 33.1 22.4 72 85.5 59.7 494.5-164.8 850.8-631.4 850.8-1181.4 0-687.7-557.5-1245.1-1245.1-1245.1"
                  fill="#5c6bc0" />
          </svg>
          <span>GitHub</span>
        </a>

      </div>

      <div class="footer-copy">
        ¬© <span id="year"></span> RESCUE Project
      </div>
    </div>
  </footer>


  <script>
    // Update copyright year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Mobile menu toggle
    const toggle = document.querySelector('.menu-toggle');
    const menu = document.getElementById('primary-menu');
    if (toggle && menu) {
      toggle.addEventListener('click', () => {
        const isOpen = menu.classList.toggle('open');
        toggle.setAttribute('aria-expanded', String(isOpen));
      });
    }
  </script>

  <script>
    // RESCUE brand text animation
    (function(){
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const home = document.querySelector('.brand .home');
      if (!home || prefersReduced) return;
      const letters = Array.from(home.querySelectorAll('.glyph'));
      if (!letters.length) return;
      const wait = (ms) => new Promise(r => setTimeout(r, ms));

      async function sweepWithAnomaly() {
        const idx = [...letters.keys()].reverse(); // rtl order
        const doAnomaly = Math.random() < 0.35;
        const mid = Math.floor(idx.length/2) + (Math.random() < 0.5 ? -1 : 1);
        const stopAt = doAnomaly ? Math.max(1, Math.min(idx.length-2, mid)) : -1;
        const step = 55;
        for (let k = 0; k < idx.length; k++) {
          const i = idx[k];
          letters[i].classList.add('lit');
          if (doAnomaly && k === stopAt) {
            const group = [i, idx[k-1], idx[k+1]].filter(v => v !== undefined);
            group.forEach(j => letters[j].classList.add('alert','blink'));
            await wait(900);
            group.forEach(j => letters[j].classList.remove('blink'));
          }
          await wait(step);
        }
        await wait(400);
        const idx2 = [...letters.keys()];
        for (let k = 0; k < idx2.length; k++) {
          const i = idx2[k];
          letters[i].classList.remove('lit','alert','blink');
          await wait(60);
        }
      }

      (async function cycle(){
        while (true) {
          await wait(2000 + Math.random()*5000);
          await sweepWithAnomaly();
        }
      })();
    })();
  </script>

  <script>
  (function () {
    const modal = document.getElementById('pub-modal');
    if (!modal) return;

    const titleEl   = document.getElementById('pub-modal-title');
    const authorsEl = document.getElementById('pub-modal-authors');   // NEW
    const absEl     = document.getElementById('pub-modal-abstract');
    const repoEl    = document.getElementById('pub-modal-repo');
    const sourceEl  = document.getElementById('pub-modal-source');
    const doiEl     = document.getElementById('pub-modal-doi');       // NEW
    const scholarEl = document.getElementById('pub-modal-scholar');   // NEW
    const gaWrapper = document.getElementById('pub-modal-ga');
    const gaImg     = document.getElementById('pub-modal-ga-img');

    function closeModal() {
      modal.classList.remove('open');
      modal.setAttribute('aria-hidden', 'true');
    }

    function openModal() {
      modal.classList.add('open');
      modal.setAttribute('aria-hidden', 'false');
    }

    modal.querySelectorAll('[data-modal-close]').forEach(el => {
      el.addEventListener('click', closeModal);
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modal.classList.contains('open')) {
        closeModal();
      }
    });

    function parsePublicationText(text) {
      const lines = text.split(/\r?\n/);
      const data = {
        title: '',
        abstract: '',
        repo: '',
        source: '',
        authors: '',
        doi: '',
        doiUrl: ''
      };

      for (const raw of lines) {
        const line = raw.trim();
        if (!line) continue;

        if (line.startsWith('Title:')) {
          data.title = line.slice(6).trim();
        } else if (line.startsWith('Abstract:')) {
          data.abstract = line.slice(9).trim();
        } else if (line.startsWith('Repo:')) {
          data.repo = line.slice(5).trim();
        } else if (line.startsWith('Source:')) {
          data.source = line.slice(7).trim();
        } else if (line.startsWith('Authors:')) {
          data.authors = line.slice(8).trim();
        } else if (line.startsWith('DOI URL:')) {
          data.doiUrl = line.slice(8).trim();
        } else if (line.startsWith('DOI:')) {
          data.doi = line.slice(4).trim();
        }
      }
      return data;
    }

    async function handlePubClick(btn) {
      const wpFolder = btn.dataset.wpFolder;
      const fileName = btn.dataset.file;
      const gaName   = btn.dataset.ga;

      const txtUrl = `publications/${wpFolder}/${fileName}`;

      // Start with data from button / JSON
      let parsed = {
        title: btn.textContent.trim(),
        abstract: '',
        repo: btn.dataset.repo || '',
        source: btn.dataset.source || '',
        authors: btn.dataset.authors || '',
        doi: btn.dataset.doi || '',
        doiUrl: btn.dataset.doiUrl || '',
        scholar: btn.dataset.scholar || ''
      };

      // Try to augment using the .txt file
            // Try to augment using the .txt file
      try {
        const res = await fetch(txtUrl);
        if (res.ok) {
          const txt = await res.text();
          const override = parsePublicationText(txt);

          // Only override fields with non-empty values
          for (const [key, value] of Object.entries(override)) {
            if (typeof value === 'string') {
              if (value.trim() !== '') {
                parsed[key] = value.trim();
              }
            } else if (value) {
              parsed[key] = value;
            }
          }

          // Optional: see what we ended up with
          // console.log('parsed', parsed);
        }
      } catch (e) {
        // ignore; fallback to existing parsed
        // console.error(e);
      }


      // Title
      titleEl.textContent = parsed.title || btn.textContent.trim();

      // Authors
      if (parsed.authors) {
        authorsEl.textContent = `Authors: ${parsed.authors}`;
        authorsEl.hidden = false;
      } else if (authorsEl) {
        authorsEl.textContent = '';
        authorsEl.hidden = true;
      }

      // Abstract
      absEl.textContent = parsed.abstract || 'Abstract not available.';

      // Repo button
      if (parsed.repo) {
        repoEl.href = parsed.repo;
        repoEl.hidden = false;
      } else {
        repoEl.hidden = true;
      }

      // Source button
      if (parsed.source) {
        sourceEl.href = parsed.source;
        sourceEl.hidden = false;
      } else {
        sourceEl.hidden = true;
      }

      // DOI button
      const doiHref = parsed.doiUrl || (parsed.doi ? `https://doi.org/${encodeURIComponent(parsed.doi)}` : '');
      if (doiHref) {
        doiEl.href = doiHref;
        doiEl.textContent = parsed.doi ? `DOI: ${parsed.doi}` : 'DOI';
        doiEl.hidden = false;
      } else {
        doiEl.hidden = true;
      }

      // Scholar button
      if (parsed.scholar) {
        scholarEl.href = parsed.scholar;
        scholarEl.hidden = false;
      } else {
        scholarEl.hidden = true;
      }

      // Graphical abstract
      if (gaName) {
        const gaUrl = `publications/${wpFolder}/${gaName}`;
        gaImg.src = gaUrl;
        gaImg.alt = `Graphical abstract for ${parsed.title || 'publication'}`;
        gaWrapper.hidden = false;

        gaImg.onerror = function () {
          gaWrapper.hidden = true;
        };
      } else {
        gaWrapper.hidden = true;
      }

      openModal();
    }

    // Event delegation so dynamically generated buttons work
    document.addEventListener('click', (e) => {
      const btn = e.target.closest('.pub-link');
      if (btn) {
        handlePubClick(btn);
      }
    });
  })();
</script>



<script>
  async function buildPublications() {
    const container = document.getElementById('publications-container');
    if (!container) return;

    try {
      const res = await fetch('publications/publications.json');
      if (!res.ok) throw new Error('Cannot load publications.json');
      const data = await res.json();

      (data.workPackages || []).forEach(wp => {
        // Card wrapper
        const card = document.createElement('div');
        card.className = 'card publication-card';

        // <details>
        const details = document.createElement('details');
        details.className = 'pub-details';

        // <summary>
        const summary = document.createElement('summary');
        summary.className = 'pub-summary';
        const strong = document.createElement('strong');
        strong.textContent = wp.title || wp.id || 'Work Package';
        summary.appendChild(strong);
        details.appendChild(summary);

        // <ul> list
        const ul = document.createElement('ul');
        ul.className = 'pub-list';

        (wp.publications || []).forEach(pub => {
        const li = document.createElement('li');

        const btn = document.createElement('button');
        btn.type = 'button';
        btn.className = 'pub-link';
        btn.textContent = pub.label || pub.file || 'Publication';

        btn.dataset.wpFolder = wp.folder;
        btn.dataset.file = pub.file;
        if (pub.ga) {
          btn.dataset.ga = pub.ga;
        }

        // NEW: extra metadata
        if (pub.authors)  btn.dataset.authors  = pub.authors;
        if (pub.doi)      btn.dataset.doi      = pub.doi;
        if (pub.doiUrl)   btn.dataset.doiUrl   = pub.doiUrl;
        if (pub.repo)     btn.dataset.repo     = pub.repo;
        if (pub.source)   btn.dataset.source   = pub.source;
        if (pub.scholar)  btn.dataset.scholar  = pub.scholar;

        li.appendChild(btn);
        ul.appendChild(li);
      });


        details.appendChild(ul);
        card.appendChild(details);
        container.appendChild(card);
      });
    } catch (err) {
      console.error(err);
      container.textContent = 'Unable to load publications at the moment.';
    }
  }

  // build publications on load
  document.addEventListener('DOMContentLoaded', buildPublications);
</script>

<script>
  (function () {
    const grid = document.querySelector('.team-grid');
    if (!grid) return;

    // Collect children as an array
    const items = Array.from(grid.children);
    if (items.length < 2) return;

    // Simple Fisher‚ÄìYates shuffle
    for (let i = items.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [items[i], items[j]] = [items[j], items[i]];
    }

    // Append in new order
    items.forEach(item => grid.appendChild(item));
  })();
</script>


</body>
</html>
